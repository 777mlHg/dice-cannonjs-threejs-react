(this["webpackJsonpdice-cannonjs-threejs-react"]=this["webpackJsonpdice-cannonjs-threejs-react"]||[]).push([[0],{24:function(e,t,a){e.exports=a(34)},28:function(e,t,a){},29:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),i=a.n(r),c=(a(28),a(16)),s=a(3),l=a(1),m=a(9),h=a(35),u=a(17),y=(a(29),{});function p(e){var t=Object.assign({},e),a=Object(h.e)((function(){return Object(c.a)({},t)})),n=Object(s.a)(a,1)[0],r=new l.MeshPhongMaterial({opacity:0,transparent:!0});return o.a.createElement("mesh",{ref:n,receiveShadow:!0,material:r},o.a.createElement("planeBufferGeometry",{attach:"geometry",args:[120,120]}))}function g(e){var t=Object(h.e)((function(){return Object(c.a)({},e)})),a=Object(s.a)(t,1)[0];return o.a.createElement("mesh",{ref:a,receiveShadow:!0},o.a.createElement("planeBufferGeometry",{attach:"geometry",args:[1e3,1e3]}),o.a.createElement("meshPhongMaterial",{attach:"material",color:6684421}))}function d(e){var t=e.pos,a=e.velocity,r=e.angle,i=e.axis,c=e.setInstructionMessage,m=Object(h.c)((function(){return{mass:30,args:[10,10,10],position:[t.x,t.y,t.z],angularVelocity:[r.x,r.y,r.z],velocity:[a.x,a.y,a.z],rotation:[i.x,i.y,i.z]}})),u=Object(s.a)(m,2),y=u[0],p=u[1],g=new l.TextureLoader,d=[new l.MeshBasicMaterial({map:g.load("images/120px-Dicey-1x.png")}),new l.MeshBasicMaterial({map:g.load("images/120px-Dicey-2x.png")}),new l.MeshBasicMaterial({map:g.load("images/120px-Dicey-3x.png")}),new l.MeshBasicMaterial({map:g.load("images/120px-Dicey-4x.png")}),new l.MeshBasicMaterial({map:g.load("images/120px-Dicey-5x.png")}),new l.MeshBasicMaterial({map:g.load("images/120px-Dicey-6x.png")})];return Object(n.useEffect)((function(){return p.velocity.subscribe((function(e){return Math.abs(e[0])<.01&&Math.abs(e[1])<.01&&Math.abs(e[2])<.01?c(!0):c(!1)}))}),[p.velocity,c,a]),o.a.createElement("mesh",{ref:y,material:d,castShadow:!0},o.a.createElement("boxGeometry",{args:[10,10,10],attach:"geometry",receiveShadow:!0}))}var x=function(){var e=new u.Material,t=new u.ContactMaterial(e,e,0,.01),a=Object(n.useState)(!0),r=Object(s.a)(a,2),i=r[0],c=r[1],l=Object(n.useState)(!0),x=Object(s.a)(l,2),M=x[0],f=x[1];function w(e){var t=Math.random()*Math.PI/5-Math.PI/5/2,a={x:e.x*Math.cos(t)-e.y*Math.sin(t),y:e.x*Math.sin(t)+e.y*Math.cos(t)};return 0===a.x&&(a.x=.01),0===a.y&&(a.y=.01),a}var v=function(e){var t=e.changedTouches;return t?{x:t[0].clientX,y:t[0].clientY}:{x:e.clientX,y:e.clientY}},E=function(e){f(!0),y.mouseTime=(new Date).getTime(),y.mouseStart=v(e)},b=function(e){var t=v(e);y.out={x:(t.x-y.mouseStart.x)/5e3,y:-(t.y-y.mouseStart.y)/5e3},y.mouseStart=void 0,y.out&&function(){var e=y.out,t=Math.sqrt(e.x*e.x+e.y*e.y),a=(Math.random()+3)*t,n=w(e),o={x:100*(n.x>0?-1:1)*.9,y:100*(n.y>0?-1:1)*.9,z:20*Math.random()+20},r=w(e),i={x:r.x*a,y:r.y*a,z:-10},c={x:-(Math.random()*n.y*5+13*n.y),y:Math.random()*n.x*5+13*n.x,z:0},s={x:Math.random(),y:Math.random(),z:Math.random(),a:Math.random()};y.pos=o,y.velocity=i,y.angle=c,y.axis=s}(),f(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{shadowMap:!0,camera:{position:[0,-12,150]},onTouchEnd:b,onTouchStart:E,onPointerUp:b,onPointerDown:E},o.a.createElement("hemisphereLight",{intensity:.35}),o.a.createElement("spotLight",{position:[200,0,200],angle:.3,penumbra:1,intensity:.5,castShadow:!0,"shadow-mapSize-width":256,"shadow-mapSize-height":256}),o.a.createElement("pointLight",{position:[-30,0,-30],intensity:.5}),o.a.createElement(h.a,{gravity:[0,0,3*-9.8],defaultContactMaterial:t,step:1/60,iterations:10},o.a.createElement(g,null),o.a.createElement(p,{position:[-60,0,0],rotation:[0,1.570796,0]}),o.a.createElement(p,{position:[60,0,0],rotation:[0,-1.570796,0]}),o.a.createElement(p,{position:[0,60,0],rotation:[1.570796,0,0]}),o.a.createElement(p,{position:[0,-60,0],rotation:[-1.570796,0,0]}),!M&&o.a.createElement(d,{pos:y.pos,velocity:y.velocity,angle:y.angle,axis:y.axis,setInstructionMessage:c}))),o.a.createElement("div",{className:"startup",style:{display:i?"block":"none"}},"Instruction - drag to throw dice"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.0015f4fe.chunk.js.map